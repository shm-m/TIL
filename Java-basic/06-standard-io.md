## 표준 입출력(Standard I/O)

_해당 노트에서는 Stream 기반의 자세한 입출력에 대해서는 다루지 않고 간단하게 콘솔 중심으로 다룸_

표준 입출력이란 자바 콘솔창으로의 데이터 입력 및 출력을 의미. 즉 사용자에게 콘솔을 통해 데이터를 입력받고, 콘솔을 통해 데이터를 보여줄 수 있음.

자바에서는 **System** 이라는 운영체제 기능 제공 **클래스**가 제공됨. 여기에는 표준 입출력 관리 기능도 존재. `System`의 경우 `java.lang` 패키지에 포함되어 있기 떄문에 **별도의 인스턴스 객체를 생성할 필요 없이** 바로 사용 가능.

<br>

표준 입출력에는 다음과 같은 3가지 **변수**가 제공.

1. **System.in** : 콘솔로부터 데이터 입력 시 사용
2. **System.out** : 콘솔에 데이터 출력 시 사용
3. **System.err** : 콘솔에 오류 메세지 출력 시 사용

<br>

---

### System.out

**out**은 System 클래스에 선언된 클래스 변수. 타입은 **PrintStream**.

PrintStream은 콘솔에 값을 출력할 때 사용되는 클래스이다. 보통 System.out.println은 콘솔에 문자열을 출력할 경우나 디버깅 시 많이 사용된다. InputStream과 다르게 문자기반 스트림이기 때문에 문자열을 출력하고 싶을 때 입력처럼 별도의 클래스나 보조 스트림없이 바로 편리하게 메소드 사용 가능 (물론 성능을 위해 BufferdWriter을 사용하기도 함)

PrintStream은 예외처리가 안전하게 된 메소드로만 구성되어 있어 try, catch 구문을 작성할 필요 X

<br>

#### System.out.println()

"print a line"의 줄임말로써, ()의 내용을 그대로 출력하고 만약 다음에 출력할 내용이 존재하면 그 다음줄의 첫번째 칸에서 출력을 시작하는 메소드

```java
System.out.println(내용);
```

- 입력

```java
String str1 = new String("ABC");
String str2 = new String("def");

System.out.println(str1);
System.out.println(str1 + str2);
System.out.println(10 + 23);
System.out.println("철수와\n영희"); // \n : 줄바꿈
System.out.println("철수와\t영희"); // \t : 공백
System.out.println("철수는 \"배고프다고\" 말했다.");

```

<br>

- 출력

```
ABC
ABCdef
33
철수와
영희
철수와 영희
철수는 "배고프다고" 말했다.
```

<br>

`println()` 파라미터 값에 String 타입을 넣을 경우 쌍따옴표안에 넣어야 하는데 그 경우 내부에 또 다시 쌍따옴표를 쓸 경우 에러가 난다. 따라서 **이스케이프 문자** 를 통해 표시해줘야 함

- **이스케이프 문자** : 이스케이프 문자란 \와 조합되어 특별한 의미를 가지는 몇개의 특수한 문자들을 말한다. 대표적으로, 그 문자가 등장하는 즉시 줄을 강제로 바꾸는 개행 문자, 일반적인 스페이스보다 큰 탭 공백 문자, 코드 상에서는 스트링 값의 시작과 끝을 알리기 때문에 단독으로 사용할 수 없는 쌍따옴표 문자 등이 존재한다.

<br>

#### System.out.printf()

문자열 안의 특정한 값을 바꾸거나 변수를 대입하고 싶을 때는 **문자열 포매팅 기법을 사용**.

포매팅 기법은 형식화된 출력 문자열 안에 `지시자(Specifier)`를 통해서 어떤값을 출력할건지 지정 가능.

| 지시자 | 타입                |
| ------ | ------------------- |
| %d     | int(decimal)        |
| %x     | int(hex)            |
| %x     | int(hex-capital)    |
| %f     | float               |
| %s     | String              |
| %S     | String(all capital) |
| %%     | %(literal)          |

<br>

- 입력

```java
int num = 2;

System.out.println(String.format("김밥 %d줄 주세요.", num));
```

- 출력

```
김밥 2줄 주세요.
```

문자열 포매팅은 `println()`에 `String.format` 메소드를 통해 사용 가능. 그러나 `printf()`를 사용하면 바로 포매팅 기법을 사용할 수 있다. (그러나 `printf()`의 경우 연속 출력 시 출력한 내용의 바로 오른쪽 칸부터 출력을 시작)

- 입력

```java
int number = 32;

// A. 10진법 정수를 그대로 출력하라
System.out.printf("A. [%d]\n", number);

// B. 10진법 정수를 오른쪽 정렬 5자리로 출력하라
System.out.printf("B. [%5d]\n", number);

// C. 10진법 정수를 오른쪽 정렬 5자리로 출력하라
System.out.printf("C. [%5d]\n", 1234567);

// D. 10진법 정수를 왼쪽 정렬 5자리로 출력해라
System.out.printf("D. [%-5d]\n", number);

// E. 10진법 정수를 오른쪽 정렬 5자리로 맞추고 왼쪽 빈 자리를 0으로 채워라
System.out.printf("E. [%05d]\n", number);
```

- 출력

```
A. [32]
B. [   32]
C. [1234567]
D. [32   ]
E. [00032]
```

<br>

`float`의 경우 해당 지시자로 `double`까지 사용 가능 float의 경우 기본적으로 소수점 6자리까지 출력이 된다. (ex)3.140000)

또한 소수점(.)까지 글자의 개수로 취급하므로, 정렬을 사용하고 싶다면 최소한 9이상의 수를 이용해야함.

- 입력

```java
//실수를 소숫점 3번째 자리까지만 출력해라
System.out.printf("%.3f", 2.34883);
```

- 출력

```
2.349
```

이와 같이 실수의 경우 지정된 소숫점 자리에서 반올림 되어서 출력됨.

<br>

또한 `printf()`의 경우 %문자의 개수보다 넘겨받는 값의 개수가 더 많으면 앞에서부터 차례대로 들어간다. 만약 %문자의 개수보다 넘겨받는 값의 개수가 적으면? 에러 발생

<br>
<br>

---

### System.in

**in**은 `System` 클래스 변수로 타입은 **InputStream**임. InputStream의 경우 PrintStream과 다르게 바이트 기반 스트림이기 때문에 바이트 단위로만 입출력이 허용, 또한 사용 시 예외처리를 고려해야함. 따라서 **Scanner** 클래스를 통해서 입력 받는 것이 편리. (물론 Scanner가 아니더라도 `BufferedReader()` 와 같은 보조 스트림을 이용한 메소드 사용 가능, 성능 또한 BufferedReader가 우수하다)

Scanner의 경우 `java.lang`패키지가 아닌 `java.util` 패키지에 속하므로 사용 시 별도로 import 필요

<br>

#### Scanner

`java.util` 패키지에 있는 입력 클래스로 문자열 뿐만 아니라 기본 데이터 타입 및 파일을 읽어들일 수 있음.

- Scanner 사용 방법

```java
Scanner scanner = new Scanner(입력밭은 위치);
Scanner.next();
```

콘솔 입력의 경우 키보드 입력을 받아야 하므로 입력받을 위치는 **System.in** 이 된다

| Scanner 메서드 | 입력 데이터 타입  |
| -------------- | ----------------- |
| next()         | String(only word) |
| nextLine()     | String            |
| nextInt()      | int               |
| nextDouble()   | double            |

<br>

##### next()와 nextLine()의 차이

`next()`의 경우 space를 치기 전까지의 문자열을 인식하고, `nextLine()`의 경우 enter을 치기 전까지의 문자열을 인식한다. 따라서 사용자로부터 String을 입력 받을 때는 한개의 단어를 입력받을 때는 next() 메소드를 호출하고 한개의 문장을 입력받을 때는 `nextLine()` 메소드를 호출함. `nextInt()`, `nextDouble()` 역시 enter 입력 전까지의 값을 읽어옴.

Scanner 클래스에 `nextInt()`, `nextDouble()` 등의 숫자를 입력하는 메소드를 호출하면 다음과 같은 단계를 밟는다.

1. 사용자가 입력한 값을 엔터키를 빼고 나머지 글자들을 스트링 값으로 읽어온다.
2. 맨앞과 맨뒤에 붙어있는 공백문자를 제거한다.
3. 사용자가 입력한 글자가 해당 메소드의 결과값으로 나올 데이터입이 형태와 일치하는지 확인한다.
4. 만약 해당 패턴과 일치하는 경우에는 해당 데이터타입으로 변환(parse)하여 결과값으로 보내준다.

이때 3번째 단계에서 정수형일 경우, 모든 글자가 "숫자" 혹은 "-숫자"여야 한다.

실수형일 경우, 모든 글자가 "숫자.숫자", "숫자", "-숫자", "-숫자.숫자" 중 하나의 패턴과 일치해야함. 만약 패턴과 일치하지 않을 경우에는 에러 발생.

<br>

##### nextLine() 사용 시 주의 점

**"엔터키를 빼고 읽어온다."** 특징 떄문에 `nextInt()` 등의 숫자를 입력하는 메소드 호출 후에 `nextLine()`을 실행하게 되면 `nextLine()` 메소드는 사용자가 아무런 값을 따로 입력하지 않고 입력을 종료했다고 인식함. 그러므로 입력이 강제 종료됨.

해당 버그를 방지하기 위해서는 `nextInt()` 등의 숫자 입력 메소드 호출 "후에" `nextLine()`을 사용해야할 경우에는 `nextLine()`을 한번 적어주고 나서 실제 값 입력을 위한 `nextLine()`을 호출해주면 된다.

<br>

##### sacnner.close()

Scanner 클래스 변수는 키보드 입력을 **버퍼 메모리**라는 곳에서 임시저장하고 읽어옴. 이렇게 버퍼 메모리라는 임시 저장소를 다루는 클래스 변수는 사용하고 나서 더 이상 사용할 필요가 없으면 `close()` 라는 메소드를 호출해서 읽어오는 것을 중단시켜 리소스의 과부하를 줄여줘야 함.
